(this["webpackJsonpmercado-delivery"]=this["webpackJsonpmercado-delivery"]||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},36:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(23),c=n.n(r),a=n(3),o=n(4),s=n(17),l=n(7),d=n(6),u=n(5),h=n(12);n(29),n(30);window.waitForSeconds=function(e){return new Promise((function(t,n){return setTimeout((function(){return t()}),1e3*e)}))},window.waitForEndOfFrame=function(){return new Promise((function(e,t){return setTimeout((function(){return e()}),16)}))};window.waitForSeconds;var j=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,null,[{key:"lerp",value:function(e,t,n){var i=(1-n)*e+n*t;return Number.isNaN(i)&&(i=0),e<t?(i<e&&(i=e),i>t&&(i=t)):(i>e&&(i=e),i<t&&(i=t)),i}},{key:"sphereLerp",value:function(e,t,n){return n*=n*n,this.lerp(e,t,n)}},{key:"smoothStep",value:function(e,t,n){var i=1-(n=n*n*n*(n*(6*n-15)+10)),r=i*e+(1-i)*t;return Number.isNaN(r)&&(r=0),e<t?(r<e&&(r=e),r>t&&(r=t)):(r>e&&(r=e),r<t&&(r=t)),r}},{key:"RandomRange",value:function(e,t){var n=t-e;return Math.random()*n+e}},{key:"clamp",value:function(e,t,n){return e<t&&(e=t),e>n&&(e=n),e}}]),e}();window.mathf=j;n.p,n(31);var b=n(0),p=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsx)("header",{className:"header",children:Object(b.jsx)("div",{className:"container-lg px-0",children:Object(b.jsxs)("div",{className:"d-flex navbar-light align-items-center",children:[Object(b.jsx)("a",{className:"navbar-logo",href:"google.com"}),Object(b.jsxs)("form",{className:"flex-grow-1 d-flex align-items-center",children:[Object(b.jsx)("input",{className:"form-control flex-grow-1"}),Object(b.jsx)("button",{className:"btn btn-outline-success flex-grow-1 ml-1",type:"submit",children:"Buscar"})]}),Object(b.jsx)("button",{id:"sidebar-toogler",className:"navbar-toggler d-lg-none",type:"button",children:Object(b.jsx)("span",{className:"navbar-toggler-icon"})}),Object(b.jsxs)("ul",{className:"d-flex px-2 align-items-center m-0",children:[Object(b.jsx)("li",{className:"d-none d-lg-block nav-item flex-grow-1 mx-3",children:"Crie sua conta"}),Object(b.jsx)("li",{className:"d-none d-lg-block nav-item flex-grow-1 mx-3",children:"Entre"}),Object(b.jsx)("li",{className:"d-none d-lg-block flex-grow-1 mx-3 nav-item",children:"Compras"}),Object(b.jsx)("li",{className:"flex-grow-1 mx-0 nav-item",children:Object(b.jsxs)("a",{id:"carrinho",href:"google.com",children:[Object(b.jsx)("div",{className:"quantidade",children:this.props.loja.carrinho.quantosTemProdutosNoCarrinho()}),Object(b.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAgCAYAAACYTcH3AAABbmlDQ1BpY2MAACiRdZE7SwNBFIW/JL4fWGihYrFFFAsDoiCWEsE0ahEjGLVJNptESNZld4OIrWBjEbAQbXwV/gNtBVsFQVAEERv/gK9GwnrHCAliZpm9H2fmXGbOgH86p+edumHIm64djYS1hfii1vhCgB6gmYaE7lgzc1Mxao7PO3yq3oZUr9r7/h2tKcPRwdckPKZbtis8ITy95lqKt4W79GwiJXwoPGTLAYWvlJ4s87PiTJnfFdux6CT4VU8tU8XJKtazdl54UDiYzxX03/Oom7QZ5vyc1F6ZfThEiRBGI0mBFXK4hKSaktn/vuEf3yyr4tHlb7GOLY4MWfEOiVqQrobUtOiGfDnWVe5/83TSoyPl7m1hqH/yvLd+aNyBUtHzvo48r3QMgUe4MCv+Vclp/EP0YkULHkDHJpxdVrTkLpxvQfeDlbATP1JApj+dhtdTaI9D5w20LJWz+l3n5B5iG/JE17C3DwOyv2P5G4QMZ9GDC1fAAAAACXBIWXMAAC4jAAAuIwF4pT92AAACt0lEQVRYCe2YyY8NURTGn3mIIYIF0sJCRxAhEkRIOmJMWIoNC0KvrLCU+AtE/AfsmyURkhYsDBshJN2GxBTELNo8/b7XdSq3q+rVvbdKWi98yVfn1D3Dve8O51ZeozFEsZ9x/c7wLe8bB3u8hzKDcAf1BtucwRjQ8KSTnyWdTcHWUWL/a6YRSabLyF7YAy8lfI9sh8IneKqp/aPHEvr9CrVkj+BkWIaxGKswzTks1fKKEl+FixPTeuT5RHfFeF6OwA63MUJ/iO8+eM8XcxQH28zHWjgvc3zMN1Y+bpF7QPNmp6Mb6KMGWPtfpiLOwS/weyC1/L+gDboTvVG2TLJPgzfhDKiOlkMNKotxNMyDI7OGFu86GCfgaPgMLoDvoBddeNgvOOD1DnPY6+Q8aSFWZ+y9SJ52GrWJ60KrscVJ0u3oXlXT3wc1O6/hTFgH0wl+DpXvM1wEg6F9cAXaUm0Ljix23OTk0n4cY24hy/QD57MWgNQJq4O1TrCWSCcrCqvx1qA0Ow/gBFgFmoXr0GZ5a5Uk6lwVUkl0qWpwVbCQIO0T5XkJVTJShCyTnD/Ci0mUYjYkeqxYRYCuGeEaVI1JEVqkFHAG7koidyD1aeFCp0RFrAzuyekuc/TZZuOgzwpb7zpSS73C16HPvhsHle06A9G30WGY2yK+u4mYHObTshT6liQXSINO5G1YdL8V+f9va86AfQOHTEcbTp1QhUpx92EsVhKwB+qIq868gtFoJ6IH2sbVaTgYmWU7/n1OjhfoayJzNN2P87SBmPxA29ym1f+YhItVcIuXvADT1ckdL4xFUBnPYiINoYNRQZyVTcC7Pk/Sey50MLcKEqne6NeGQPvjSYHjHdp01URBteUutCn+hh67Z3YSo4JnOZ6iayNXQhtRXVB/BqyrlKH/CuglVp+yOhRDF38AZ7jK4TJ7EBwAAAAASUVORK5CYII="}),Object(b.jsxs)("div",{className:"custo",children:["R$ ",this.props.loja.carrinho.custoTotalNoCarrinho()]})]})})]})]})})})}}]),n}(i.Component),x=(n(33),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"d-none d-lg-block barra-categorias py-1",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("ul",{className:"d-flex c-px-3 px-0 my-0 mx-auto c-flex-grow-1 flex-wrap",children:[Object(b.jsx)("li",{children:"Categorias"}),Object(b.jsx)("li",{children:"Ofertas do dias"}),Object(b.jsx)("li",{children:"Frutas e verduras"}),Object(b.jsx)("li",{children:"Enlatados"}),Object(b.jsx)("li",{children:"Gr\xe3os"}),Object(b.jsx)("li",{children:"Carnes"})]})})})}}]),n}(i.Component)),O=(n(34),!1),f={x:0,y:0},m={x:0,y:0},v=!1,g=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,null,[{key:"initialize",value:function(){v||(window.addEventListener("mousedown",(function(t){e.startMouseSwipe(t)})),window.addEventListener("touchstart",(function(t){e.startMouseSwipe(t)})),window.addEventListener("mousemove",(function(e){O&&(m={x:e.clientX-f.x,y:e.clientY-f.y})})),window.addEventListener("touchmove",(function(e){O&&(m={x:e.touches[0].clientX-f.x,y:e.touches[0].clientY-f.y})})),window.addEventListener("mouseup",(function(t){e.stop()})),window.addEventListener("touchend",(function(t){e.stop()})),v=!0)}},{key:"startMouseSwipe",value:function(e){O=!0,f.x="mousedown"==e.type?e.clientX:e.touches[0].clientX,f.y="mousedown"==e.type?e.clientY:e.touches[0].clientY}},{key:"stop",value:function(){O=!1,m={x:0,y:0},f={x:0,y:0}}},{key:"onDirection",value:function(t,n){e.initialize();var i=function(i){var r=!1;0!=t.x&&(t.x<0?m.x<t.x&&(r=!0):m.x>t.x&&(r=!0)),0!=t.y&&(t.y<0?m.y<t.y&&(r=!0):m.y>t.y&&(r=!0)),O&&r&&(n(),e.stop())};window.addEventListener("mousemove",i),window.addEventListener("touchmove",i)}}]),e}(),y=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.atribuiDisparadorDoSidebar("sidebar-toogler"),g.onDirection({x:-25,y:0},(function(){e.closeSidebar()}))}},{key:"atribuiDisparadorDoSidebar",value:function(e){var t=document.getElementById(e);void 0!=t&&(t.onclick=this.openSidebar)}},{key:"openSidebar",value:function(e){var t=document.getElementById("side-bar");t.classList.add("show"),t.classList.contains("hide")&&t.classList.remove("hide")}},{key:"closeSidebar",value:function(e){var t=document.getElementById("side-bar");t.classList.contains("show")&&(t.classList.remove("show"),t.classList.add("hide"))}},{key:"render",value:function(){return Object(b.jsxs)("div",{id:"side-bar",className:"",children:[Object(b.jsxs)("ul",{className:"",children:[Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{className:"",children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),"                    ",Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),"                    ",Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),"                    ",Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),"                    ",Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),"                    ",Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),"                    ",Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),"                    ",Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),"                    ",Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),"                    ",Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),"                    ",Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),"                    ",Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),"                    ",Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),"                    ",Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),"                    ",Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),"                    ",Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),"                    ",Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),"                    ",Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),"                    ",Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),"                    ",Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),"                    ",Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),"                    ",Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),"                    ",Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),"                    ",Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"}),Object(b.jsx)("li",{children:"Inicio"})]}),Object(b.jsx)("div",{className:"flex-grow-1 ",onClick:this.closeSidebar})]})}}]),n}(i.Component),w={imgsPath:"http://localhost:3001/"},k=(n.p,n(2)),I=n.n(k),N=n(9);function C(e,t,n){return A.apply(this,arguments)}function A(){return(A=Object(N.a)(I.a.mark((function e(t,n,i){var r,c,a,o,s,l,d,u,h,j,b=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j=function(){var e=document.getElementById("animation_product_add");void 0==e&&((e=document.createElement("style")).id="animation_product_add",document.body.append(e),e.innerHTML="\n\n            .fromToAnimated {\n                position: fixed;\n                z-index: 100;\n                box-shadow: 0px 10px 15px rgba(0, 0, 0, 0.333);\n                background-color: white;\n                animation: adicao-carrinho-fade-in 0.6s ease-out;\n            }\n\n            @keyframes adicao-carrinho-fade-in {\n                0% {\n                    opacity: 0;\n                    transform: scale(1);\n                }\n                15% {\n                    opacity: 1;\n                  \n                }\n                50% {\n                    box-shadow: 0px 20px 15px rgba(0, 0, 0, 0.333);\n                    transform: scale(1.3);\n                }\n\n                100% {\n                    box-shadow: 0px 20px 15px rgba(0, 0, 0, 0.333);\n                    transform: scale(1);\n             \n                }\n            }")},h=function(){o.style="\n        width: ".concat(s.width,"px;\n        height: ").concat(s.height,"px;\n        top: ").concat(s.top,"px;\n        left: ").concat(s.left,"px;\n        ")},r=b.length>3&&void 0!==b[3]?b[3]:1,c=n.getBoundingClientRect(),a=i.getBoundingClientRect(),(o=document.createElement("img")).src=t.src,o.classList.add("fromToAnimated"),s={left:c.left,top:c.top,width:c.width,height:c.height},j(),h(),document.body.append(o),l=.5,d=0;case 14:if(!(d<l)){e.next=28;break}return e.next=17,window.waitForEndOfFrame();case 17:d+=.016,a=i.getBoundingClientRect(),c=n.getBoundingClientRect(),u=1==r?d/l:(l-d)/l,s.left=window.mathf.smoothStep(c.left,a.left,u),s.top=window.mathf.smoothStep(c.top,a.top,u),s.width=window.mathf.sphereLerp(c.width,a.width,u),s.height=window.mathf.sphereLerp(c.height,a.height,u),h(),e.next=14;break;case 28:o.remove();case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(36);var S=Object(u.f)(function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this)).state={produto:{_id:5,titulo:"",categorias:[],descricao:""}},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.loja.carregaProduto(this.props.match.params.id)}},{key:"render",value:function(){var e=this.props.loja,t=e.state.produtoCarregado;return Object(b.jsxs)("div",{className:"container-lg px-2 produto-page",children:[Object(b.jsx)(F,{produto:t}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)(D,{produto:t}),Object(b.jsx)(P,{produto:t,loja:e}),Object(b.jsx)(L,{produto:t})]})]})}}]),n}(i.Component));function F(e){var t=e.produto.categorias.map((function(e,t){return Object(b.jsx)("li",{children:e},t)}));return Object(b.jsx)("nav",{className:"bread mx-2 mt-4","aria-label":"breadcrumb",children:Object(b.jsxs)("ol",{children:[Object(b.jsx)("li",{children:"Home"}),t]})})}function D(e){return Object(b.jsx)("div",{className:"quadro-de-foto mx-2",children:Object(b.jsx)("img",{src:w.imgsPath+e.produto.img})})}function P(e){var t=e.produto,n=e.loja,i=n.carrinho.quantosForamAdicionadosAoCarrinho(t._id);function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=document.querySelector(".quadro-de-foto img"),i=document.querySelector("#carrinho");C(n,n,i,t)}var c=void 0!==t.likes&&t.likes.includes(0);return Object(b.jsxs)("div",{className:"quadro-comprar",children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)("h1",{children:[t.titulo,"   "]}),Object(b.jsx)("button",{className:"like "+c,onClick:function(){return n.likeProduto(t._id)},children:"\u2665"})]}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"quantidade",children:[Object(b.jsx)("label",{children:"Quantidade:"}),Object(b.jsxs)("div",{className:"linha",children:[Object(b.jsx)("button",{className:"btn btn-outline-secondary",type:"button",disabled:i<1,onClick:function(e){n.carrinho.adicionarAoCarrinho(t._id,-1),r(e,-1)},children:"-"}),Object(b.jsx)("input",{className:"form-control text-center",placeholder:"",value:i,"aria-label":"Recipient's username","aria-describedby":"button-addon2",onChange:function(e){return n.carrinho.editarQuantidadeDoProdutoAoCarrinho(t._id,e.target.value)}}),Object(b.jsx)("button",{className:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:function(e){n.carrinho.adicionarAoCarrinho(t._id,1),r(e)},children:"+"})]})]}),Object(b.jsxs)("div",{className:"bloco-preco",children:[Object(b.jsx)("span",{children:t.preco}),Object(b.jsx)("br",{}),Object(b.jsxs)("span",{children:["Em ",Object(b.jsx)("b",{children:"12x de 35 sem juros"})]})]})]}),Object(b.jsx)("div",{className:"calcular-frete",children:Object(b.jsxs)("span",{children:["Acima de 100 reais em compras o ",Object(b.jsx)("b",{children:"Frete \xe9 gr\xe1tis!"}),Object(b.jsx)("br",{}),"Abaixo disso, o frete para sua localiza\xe7\xe3o atual \xe9 R$ ",Object(b.jsxs)("b",{children:[n.state.frete.toFixed(2)," "]})]})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{className:"botao-azul",children:"Ir para o carrinho"}),Object(b.jsx)("button",{className:"botao-verde",onClick:function(e){n.carrinho.adicionarAoCarrinho(t._id,1),r(e)},children:"Adicionar ao carrinho"})]})]})}function L(e){return Object(b.jsxs)("div",{className:"descricao-pg-produto",children:[Object(b.jsx)("div",{children:Object(b.jsx)("h3",{children:"Descri\xe7\xe3o do produto"})}),Object(b.jsx)("div",{dangerouslySetInnerHTML:{__html:e.produto.descricao}})]})}console.log,n(42);var E=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this)).loading=!1,e.state={produtos:[]},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.ligarInfiniteLoader()}},{key:"ligarInfiniteLoader",value:function(){var e=Object(N.a)(I.a.mark((function e(){var t=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.carregarMaisProdutos();case 2:return e.next=4,window.waitForSeconds(.5);case 4:if(!(document.body.clientHeight<window.innerHeight)){e.next=14;break}if(this.loading){e.next=12;break}return this.loading=!0,e.next=9,this.carregarMaisProdutos();case 9:return e.next=11,window.waitForSeconds(.5);case 11:this.loading=!1;case 12:e.next=4;break;case 14:window.addEventListener("scroll",function(){var e=Object(N.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loading||!(window.pageYOffset>document.body.clientHeight-window.innerHeight-600)){e.next=5;break}return t.loading=!0,e.next=4,t.carregarMaisProdutos();case 4:t.loading=!1;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"carregarMaisProdutos",value:function(){var e=Object(N.a)(I.a.mark((function e(){var t=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3001/produtos/"+this.state.produtos.length+"/"+(this.state.produtos.length+12)).then((function(e){return e.json()})).then((function(e){var n=t.state.produtos;t.setState({produtos:n.concat(e)})}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.produtos.map((function(t,n){return Object(b.jsx)(T,{produto:t,carrinho:e.props.loja.carrinho},n)}));return Object(b.jsx)("section",{className:"container-lg px-2 produtos-page",children:Object(b.jsx)("div",{className:"container-lg",children:Object(b.jsx)("ul",{className:"row",children:t})})})}}]),n}(i.Component),T=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.carrinho.quantosForamAdicionadosAoCarrinho(this.props.produto._id);return Object(b.jsxs)("li",{className:"produto-card card col-3 justify-content-between",children:[Object(b.jsx)(h.b,{to:"/produto2/"+this.props.produto._id,children:Object(b.jsx)("img",{"data-chroma-key":"#FFFFFF",src:w.imgsPath+this.props.produto.img})}),Object(b.jsx)("h5",{children:this.props.produto.titulo}),Object(b.jsxs)("div",{className:"preco-pg-lista",children:[Object(b.jsxs)("div",{className:"riscado",children:["R$ ",(1.1*this.props.produto.preco).toFixed(2)]}),Object(b.jsx)("div",{className:"preco",children:this.props.produto.preco})]}),Object(b.jsxs)("div",{className:"row justify-content-center",children:[Object(b.jsx)("button",{className:"rem",type:"button",disabled:t<1,onClick:function(t){e.props.carrinho.adicionarAoCarrinho(e.props.produto._id,-1),e.animarAdicao(t,-1)},children:"-"}),Object(b.jsx)("div",{className:"quant-number",children:t}),Object(b.jsx)("button",{className:"add",type:"button",onClick:function(t){e.props.carrinho.adicionarAoCarrinho(e.props.produto._id,1),e.animarAdicao(t)},children:"+"})]})]},this.props.index)}},{key:"animarAdicao",value:function(){var e=Object(N.a)(I.a.mark((function e(t){var n,i,r,c=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=c.length>1&&void 0!==c[1]?c[1]:1,i=t.target.parentElement.parentElement.querySelector("img"),r=document.querySelector("#carrinho"),C(i,i,r,n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(i.Component);n(43);function M(e){var t=e.path.split("/").map((function(e,t){return Object(b.jsx)("li",{children:Object(b.jsx)(h.b,{children:e},t)})}));return Object(b.jsx)("nav",{className:"bread","aria-label":"breadcrumb",children:Object(b.jsx)("ol",{children:t})})}var q=Object(u.f)(function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.ligarInfiniteLoader()}},{key:"ligarInfiniteLoader",value:function(){var e=Object(N.a)(I.a.mark((function e(){var t,n,i=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.loja,n=this.props.location.pathname,e.next=4,t.carregarMaisProdutos(n,12);case 4:return e.next=6,window.waitForSeconds(.5);case 6:if(!(document.body.clientHeight<window.innerHeight)){e.next=16;break}if(this.loading){e.next=14;break}return this.loading=!0,e.next=11,t.carregarMaisProdutos(n,12);case 11:return e.next=13,window.waitForSeconds(.5);case 13:this.loading=!1;case 14:e.next=6;break;case 16:window.addEventListener("scroll",function(){var e=Object(N.a)(I.a.mark((function e(r){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.loading||!(window.pageYOffset>document.body.clientHeight-window.innerHeight-600)){e.next=5;break}return i.loading=!0,e.next=4,t.carregarMaisProdutos(n,12);case 4:i.loading=!1;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.loja.state.listaProdutos.map((function(t,n){return Object(b.jsx)(H,{produto:t,carrinho:e.props.loja.carrinho},n)}));return Object(b.jsxs)("section",{className:"container-lg px-2 produtos-page d-flex",children:[Object(b.jsx)(Y,{loja:this.props.loja}),Object(b.jsx)("div",{className:"col-9",children:Object(b.jsx)("ul",{className:"row",children:t})})]})}}]),n}(i.Component)),Y=Object(u.f)(function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=void 0===this.props.match.params.cat1,t=this.selecionaSubcategoria(this.props.loja.state.categorias),n=this.obtemListaAPartirDaCategoria(t),i=this.caminho().caminhoAcima;return console.log("teste"),Object(b.jsxs)("aside",{className:"categorias col-3",children:[!e&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(M,{path:i}),Object(b.jsx)("h3",{children:this.caminho().ultimaCategoria})]}),Object(b.jsx)("ul",{children:n})]})}},{key:"componentDidMount",value:function(){this.props.loja.carregaCategorias()}},{key:"obtemListaAPartirDaCategoria",value:function(e){var t=this.props.location.pathname;"/"!=t[t.length-1]&&(t+="/");var n=this.props.loja;return Object.keys(e).map((function(i,r){var c=Object.keys(e[i]).length>0?Object(b.jsx)(h.b,{to:t+i,onClick:function(){n.reiniciaListaDeProdutos(t+i,12)},children:i}):"";return Object(b.jsx)("li",{children:c})}))}},{key:"selecionaSubcategoria",value:function(e){var t=this.props.match.params,n=e;for(var i in t){if(void 0===t[i]||void 0===n[t[i]])break;n=n[t[i]]}return n}},{key:"caminho",value:function(){var e=this.props.location.pathname.split("/");return{ultimaCategoria:e.pop(),caminhoAcima:e.join("/")}}}]),n}(i.Component)),H=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.carrinho.quantosForamAdicionadosAoCarrinho(this.props.produto._id);return Object(b.jsxs)("li",{className:"produto-card card col-3 justify-content-between",children:[Object(b.jsx)(h.b,{to:"/produto2/"+this.props.produto._id,children:Object(b.jsx)("img",{"data-chroma-key":"#FFFFFF",src:w.imgsPath+this.props.produto.img})}),Object(b.jsx)("h5",{children:this.props.produto.titulo}),Object(b.jsxs)("div",{className:"preco-pg-lista",children:[Object(b.jsxs)("div",{className:"riscado",children:["R$ ",(1.1*this.props.produto.preco).toFixed(2)]}),Object(b.jsx)("div",{className:"preco",children:this.props.produto.preco})]}),Object(b.jsxs)("div",{className:"row justify-content-center",children:[Object(b.jsx)("button",{className:"rem",type:"button",disabled:t<1,onClick:function(t){e.props.carrinho.adicionarAoCarrinho(e.props.produto._id,-1),e.animarAdicao(t,-1)},children:"-"}),Object(b.jsx)("div",{className:"quant-number",children:t}),Object(b.jsx)("button",{className:"add",type:"button",onClick:function(t){e.props.carrinho.adicionarAoCarrinho(e.props.produto._id,1),e.animarAdicao(t)},children:"+"})]})]},this.props.index)}},{key:"animarAdicao",value:function(){var e=Object(N.a)(I.a.mark((function e(t){var n,i,r,c=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=c.length>1&&void 0!==c[1]?c[1]:1,i=t.target.parentElement.parentElement.querySelector("img"),r=document.querySelector("#carrinho"),C(i,i,r,n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(i.Component),B=(n(44),n.p+"static/media/logomono-white.19a8eb44.png"),R=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("footer",{children:[Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col",children:Object(b.jsx)("img",{src:B})}),Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:"Ofertas da Semana"}),Object(b.jsx)("li",{children:"Ofertas do Dia"}),Object(b.jsx)("li",{children:"Nossa Historia"}),Object(b.jsx)("li",{children:"Trabalhe conosco"}),Object(b.jsx)("li",{children:"Contato"})]})}),Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:"Minha Conta"}),Object(b.jsx)("li",{children:"Carrinho de compras"}),Object(b.jsx)("li",{children:"Sair"})]})})]})}),Object(b.jsxs)("div",{className:"rodape",children:[Object(b.jsx)("b",{children:"\xa9 Mercado Delivery 2021"})," Todos os direitos reservados."]})]})}}]),n}(i.Component),z=n(15),G=function(){function e(t){Object(a.a)(this,e),t.state=Object(z.a)(Object(z.a)({},t.state),{},{carrinhoData:{produtos:[]}}),this.setState=t.setState.bind(t),this.parent=t,this.carregarDadosRemotos()}return Object(o.a)(e,[{key:"carregarDadosRemotos",value:function(){var e=Object(N.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3001/carrinho");case 2:if(!(t=e.sent).ok){e.next=10;break}return e.next=6,t.json();case 6:t=e.sent,this.setState({carrinhoData:t}),e.next=11;break;case 10:console.error(t.status);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"quantosForamAdicionadosAoCarrinho",value:function(e){var t=this.parent.state.carrinhoData.produtos[e];return void 0==t?0:t.quantidade}},{key:"custoTotalNoCarrinho",value:function(){var e=0;for(var t in this.parent.state.carrinhoData.produtos){var n=this.parent.state.carrinhoData.produtos[t];e+=n.data.preco*n.quantidade}return e.toFixed(2)}},{key:"quantosTemProdutosNoCarrinho",value:function(){var e=0;for(var t in this.parent.state.carrinhoData.produtos)e+=this.parent.state.carrinhoData.produtos[t].quantidade;return e}},{key:"adicionarAoCarrinho",value:function(){var e=Object(N.a)(I.a.mark((function e(t,n){var i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3001/carrinho/addproduto/".concat(t,"/").concat(n),{method:"POST"});case 2:if(!(i=e.sent).ok){e.next=12;break}return e.next=6,i.json();case 6:i=e.sent,this.setState({carrinhoData:i}),console.log("deu"),console.log(this.parent.state.carrinhoData),e.next=13;break;case 12:console.error(i.status);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"editarQuantidadeDoProdutoAoCarrinho",value:function(){var e=Object(N.a)(I.a.mark((function e(t,n){var i,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("aki"),n=parseInt(n),isNaN(n)&&(n=0),void 0===(i=this.parent.state.carrinhoData).produtos[t]?i.produtos[t]={quantidade:n,preco:25,data:{preco:0}}:i.produtos[t].quantidade=n,this.setState({carrinhoData:i}),e.next=8,fetch("http://localhost:3001/carrinho/modificarQuantidadeProduto/".concat(t,"/").concat(n),{method:"POST"});case 8:if(!(r=e.sent).ok){e.next=18;break}return e.next=12,r.json();case 12:r=e.sent,this.setState({carrinhoData:r}),console.log("deu"),console.log(this.parent.state.carrinhoData),e.next=19;break;case 18:console.error(r.status);case 19:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),V=function(){function e(t){Object(a.a)(this,e),t.state=Object(z.a)(Object(z.a)({},t.state),{},{localizacaoLoja:{lat:-25.5187973,long:-48.5325122},localizacaoCliente:{lat:0,long:0},frete:0,listaProdutos:[],produtoCarregado:{_id:-1,titulo:"",categorias:[],descricao:""},categorias:{}}),this.setState=t.setState.bind(t),this.parent=t,this.carrinho=new G(t),this.carregaLocalizacaoCliente(this.setState)}return Object(o.a)(e,[{key:"state",get:function(){return this.parent.state}},{key:"localizacaoCliente",get:function(){return this.parent.state.localizacaoCliente}},{key:"localizacaoLoja",get:function(){return this.parent.state.localizacaoLoja}},{key:"carregaProduto",value:function(e){var t=this;fetch("http://localhost:3001/produto2/"+e).then((function(e){return e.json()})).then((function(e){t.setState({produtoCarregado:e})}))}},{key:"likeProduto",value:function(e){var t=this;fetch("http://localhost:3001/like/".concat(0,"/").concat(e),{method:"POST"}).then((function(e){return e.json()})).then((function(e){t.setState({produtoCarregado:e})}))}},{key:"carregaLocalizacaoCliente",value:function(e){var t=this.parent.state.localizacaoLoja;navigator.geolocation.getCurrentPosition((function(n){var i=111.3194444444444*(Math.abs(n.coords.latitude-t.lat)+Math.abs(n.coords.longitude-t.long));console.log(i);var r=Math.max(2.5*i,20);e({localizacaoCliente:{lat:n.coords.latitude,long:n.coords.longitude},frete:r})}))}},{key:"carregaCategorias",value:function(){var e=this;fetch("http://localhost:3001/calculaCategoria").then((function(e){return e.json()})).then((function(t){e.setState({categorias:t})}))}},{key:"reiniciaListaDeProdutos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;this.setState({listaProdutos:[]}),this.carregarMaisProdutos(e,t,0)}},{key:"carregarMaisProdutos",value:function(){var e=Object(N.a)(I.a.mark((function e(t){var n,i,r,c=this,a=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:12,i=a.length>2&&void 0!==a[2]?a[2]:this.state.listaProdutos.length,"/"!==t[t.length-1]&&(t+="/"),r="http://localhost:3001"+t+i+"/"+(i+n),e.next=6,fetch(r).then((function(e){return e.json()})).then((function(e){var t=c.state.listaProdutos;c.setState({listaProdutos:t.concat(e)})}));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),J=Object(u.f)(function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this)).loja=new V(Object(s.a)(e)),e}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsx)(h.a,{children:Object(b.jsxs)("div",{children:[Object(b.jsx)(p,{loja:this.loja}),Object(b.jsx)(y,{tooglerId:"sidebar-toogler"}),Object(b.jsx)(x,{}),Object(b.jsxs)(u.c,{children:[Object(b.jsx)(u.a,{exact:!0,path:"/produto/:id",children:Object(b.jsx)(S,{loja:this.loja})}),Object(b.jsx)(u.a,{exact:!0,path:"/produto2/:id",children:Object(b.jsx)(S,{loja:this.loja})}),Object(b.jsx)(u.a,{exact:!0,path:"/produtos/all",children:Object(b.jsx)(E,{loja:this.loja})}),Object(b.jsx)(u.a,{path:"/produtos/:cat1?/:cat2?/:cat3?/:cat4?/:cat5?/",children:Object(b.jsx)(q,{loja:this.loja})})]}),Object(b.jsx)(R,{})]})})}}]),n}(i.Component));!function(){var e=!1,t=null;window.onkeydown=function(n){"'"==n.key&&((e=!e)?((t=document.createElement("style")).innerHTML="* {\n        outline: 1px solid rgba(255, 3, 3, 0.25);;\n      }\n    ",document.body.append(t)):t.remove(),console.log(n.key))}}(),c.a.render(Object(b.jsx)(h.a,{children:Object(b.jsx)(J,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.77e80666.chunk.js.map